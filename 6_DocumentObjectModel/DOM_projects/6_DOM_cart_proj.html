<!DOCTYPE html>
<html lang="en">
<head>
  <title>Variables Project</title>
</head>
<style>
  button{
    display: inline-block;
  }
</style>
<body>
  <p>
    Cart Quantity
  </p>

  <button onclick="
  Show();
  ">
    Show Quantity
  </button>

  <button onclick="
  Add(1);
  "
  >
    Add to Cart
  </button>

  <button onclick="
  Add(2);
  ">
    +2
  </button>

  <button onclick="
  Add(3);
  ">
    +3
  </button>

  <button onclick="
  Add(4);
  ">
    +4
  </button>

  <button onclick="
  Add(5);
  ">
    +5
  </button>

  <button onclick="
  Remove(1);
  ">
    Remove from Cart
  </button>

  <button onclick="
  Remove(2);
  ">
    -2
  </button>

  <button onclick="
  Remove(3);
  ">
    -3
  </button>
  <button onclick="
  Reset();
  ">
    Reset Cart
  </button>

  <p class = "js-diplayCartQuantity"></p>
  <p class = "js-displayAlert"></p>
  <script>
    //localStorage.getItem('cart') -> gives a string , so we convert it to a number for required calculations and comparisons

    let cartQuantity = Number(localStorage.getItem('cart')) || 0

    //initial display of cartQuantity
    Show();

    let maxCartQuantity = 10;
    function Add(num){
      if((cartQuantity + num) > maxCartQuantity)
      {
        displayAlert(1)
      }
      else{
        cartQuantity += num;
        //update local storage
        localStorage.setItem('cart',JSON.stringify(cartQuantity))
        Show();
      }
    }

    function Remove(num){
      if((cartQuantity - num) < 0)
      {
        displayAlert(0)
      }
      else{
        cartQuantity -= num;
        //update local storage
        localStorage.setItem('cart',JSON.stringify(cartQuantity))
        Show();
      }
    }

    function Reset(){
      cartQuantity=0;
      //empty the local storage
      localStorage.removeItem('cart');
      Show();
    }

    function Show(){
      document.querySelector('.js-diplayCartQuantity')
        .innerHTML = `Cart Quantity : ${cartQuantity}`;
    }

    function displayAlert(num){
      if(num === 1)
      document.querySelector('.js-displayAlert').innerHTML = `EXCEEDS CART MAX QUANTITY (10)`;
      else
      document.querySelector('.js-displayAlert').innerHTML = `Not enough items in the Cart (${cartQuantity})`;
    }
  </script>
</body>
</html>